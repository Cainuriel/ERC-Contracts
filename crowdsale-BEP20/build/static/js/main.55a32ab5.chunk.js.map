{"version":3,"sources":["App.js","index.js"],"names":["presaleaddress","App","useState","network","setNetwork","contractBalance","setContractBalance","setUserAccount","setUserBalance","userBalancePandoras","setUserBalancePandoras","amount","setAmount","rate","setRate","info","setInfo","amountPandoras","offSetY","setOffSetY","handleScroll","window","scrollY","a","networkData","chainId","chainName","rpcUrls","nativeCurrency","name","symbol","decimals","blockExplorerUrls","ethereum","request","method","params","console","log","provider","ethers","providers","Web3Provider","getNetwork","signer","getSigner","getAddress","accountUser","cuentaUsuario","toString","subini","substr","subfinal","document","querySelector","innerHTML","getBalance","accountUserBalance","utils","formatEther","result","Number","parseFloat","toFixed","resultado","concat","bnbButton","classList","remove","contract","Contract","Presale","abi","getBalancePandoras","from","balancePandoras","balance","pandoras","isconnectedMetamask","accounts","cuentaRecortada","contractUserBalance","on","networkId","fetchrate","data","TokenBalance","tokens","account","bnbamount","parseEther","buyTokens","value","transaction","Swal","fire","title","text","showConfirmButton","imageUrl","imageWidth","imageHeight","imageAlt","wait","html","hash","icon","confirmButtonText","confirmButtonClass","buttonsStyling","showCloseButton","then","isConfirmed","addTokenToMetamask","isDenied","mensajeError","message","useEffect","addEventListener","removeEventListener","changeAccounts","changeNetwork","showCancelButton","addNetwork","open","type","options","address","image","className","style","transform","href","src","alt","id","onClick","disabled","step","onChange","e","target","replace","placeholder","onMouseEnter","onMouseLeave","autoPlay","muted","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.55a32ab5.chunk.js","sourcesContent":["import './App.css';\r\nimport { useEffect, useState } from 'react';\r\nimport { ethers } from 'ethers'\r\nimport Presale from './artifacts/contracts/Presale.sol/Presale.json'\r\nimport Swal from 'sweetalert2'\r\nimport VideoPlayer from \"react-background-video-player\";\r\n\r\nconst presaleaddress = \"0x67EB19e65f3f204B2A243bC20A49dB6C75fF3Ba9\" // Pandoras - in testnet of Binance Smart Chain \r\n\r\nfunction App() {\r\n\r\n  const [network, setNetwork] = useState('no-net');\r\n  const [contractBalance, setContractBalance] = useState(0);\r\n  const [userAccount, setUserAccount] = useState('');\r\n  const [userBalance, setUserBalance] = useState(0);\r\n  const [userBalancePandoras, setUserBalancePandoras] = useState(0);\r\n  const [amount, setAmount] = useState(0);\r\n  const [rate, setRate] = useState(0);\r\n  const [info, setInfo] = useState(false);\r\n  let amountPandoras = amount * rate;\r\n  const BINANCENETWORK = 'bnbt'; // Testnet\r\n  //const BINANCENETWORK = 'bnb';\r\n\r\n  // parallax effect\r\n  const [offSetY, setOffSetY] = useState(0);\r\n  const handleScroll = () => setOffSetY(window.scrollY);\r\n  useEffect(() => {\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => {\r\n      window.removeEventListener('scroll', handleScroll);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(function () {\r\n\r\n    console.log('El gran useEffect con cinco funciones')\r\n\r\n    isconnectedMetamask();\r\n    changeAccounts();\r\n    changeNetwork();\r\n    fetchrate();\r\n    getBalance();\r\n\r\n  },[],);\r\n\r\n//===========================================================================================\r\n  async function addNetwork() {\r\n\r\n    let networkData = [{\r\n            chainId: \"0x61\",\r\n            chainName: \"BSCTESTNET\",\r\n            rpcUrls: [\"https://data-seed-prebsc-2-s3.binance.org:8545\"],\r\n            nativeCurrency: {\r\n              name: \"BINANCE COIN\",\r\n              symbol: \"BNB\",\r\n              decimals: 18,\r\n            },\r\n            blockExplorerUrls: [\"https://testnet.bscscan.com/\"],\r\n          },\r\n        ];\r\n\r\n      // let networkData = [{\r\n      //     chainId: \"0x38\",\r\n      //     chainName: \"BSCMAINET\",\r\n      //     rpcUrls: [\"https://bsc-dataseed1.binance.org\"],\r\n      //     nativeCurrency: {\r\n      //       name: \"BINANCE COIN\",\r\n      //       symbol: \"BNB\",\r\n      //       decimals: 18,\r\n      //     },\r\n      //     blockExplorerUrls: [\"https://testnet.bscscan.com/\"],\r\n      //   },\r\n      // ];\r\n\r\n      // agregar red o cambiar red\r\n      return window.ethereum.request({\r\n        method: \"wallet_addEthereumChain\",\r\n        params: networkData,\r\n      });\r\n  }\r\n\r\n//===========================================================================================\r\n  useEffect(function () {\r\n\r\n    \r\n      console.log('Dentro del useEffect network')\r\n      if(network !== BINANCENETWORK && network !== 'no-net' ){ \r\n\r\n          Swal.fire({\r\n            title: 'No estas en la Testnet de Binance Smart Chain',\r\n            text: 'Estas en la red '+network,\r\n            showCancelButton: true,\r\n            confirmButtonText: 'Cambiar o instalar red',\r\n            //imageUrl: 'https://i2.wp.com/criptotendencia.com/wp-content/uploads/2020/04/binance-smart-chain.jpg?fit=1200%2C674&ssl=1',\r\n            imageUrl: 'https://cryptodaily.io/wp-content/uploads/2021/07/p-2.png',\r\n            imageWidth: 300,\r\n            \r\n            imageAlt: 'Red Binance Smart Chain',\r\n          }).then((result) => {\r\n            /* Read more about isConfirmed, isDenied below */\r\n            if (result.isConfirmed) {\r\n              \r\n              addNetwork();\r\n              //window.open('https://academy.binance.com/es/articles/connecting-metamask-to-binance-smart-chain', '_blank');  \r\n            }\r\n          })\r\n        } else {\r\n\r\n          fetchrate();\r\n          getBalance();\r\n        }\r\n          \r\n          console.log('useEffect de control de network. resultado', network );\r\n\r\n  },[network]);\r\n\r\n\r\n  if (typeof window.ethereum === 'undefined') {\r\n  \r\n    console.log('Metamask no existe en este navegador')\r\n\r\n    Swal.fire({\r\n      title:  'Sin Metamask',\r\n      text: \"Tendrá que instalarse una billetera\",\r\n      showCancelButton: true,\r\n      confirmButtonText: 'instalar metamask',\r\n      imageUrl: './img/metamask-transparent.png',\r\n      // imageWidth: 600,\r\n      // imageHeight: 150,\r\n      imageAlt: 'instalando metamask',\r\n    }).then((result) => {\r\n      /* Read more about isConfirmed, isDenied below */\r\n      if (result.isConfirmed) {\r\n        window.open('https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn', '_blank');  \r\n      }\r\n    })\r\n  } \r\n\r\n  async function conectionMetamask() {\r\n    console.log('funcion connection metamask');\r\n\r\n    await window.ethereum.request({ method: 'eth_requestAccounts' });\r\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n\r\n    const network = await provider.getNetwork();\r\n    console.log('network', network.name);\r\n    setNetwork(network.name);\r\n\r\n    const signer = provider.getSigner(); // user\r\n    const accountUser = await signer.getAddress();\r\n\r\n    let cuentaUsuario = accountUser.toString();\r\n    let subini = cuentaUsuario.substr(0,4);\r\n    let subfinal = cuentaUsuario.substr(-4,4);\r\n    document.querySelector('#wallet').innerHTML = `${subini} ... ${subfinal}`;\r\n\r\n    const accountUserBalance = await provider.getBalance(accountUser);\r\n    let amount = ethers.utils.formatEther(accountUserBalance).toString();\r\n    let result = Number.parseFloat(amount).toFixed(2);\r\n    const SYMBOL = \"BNB\";\r\n    let resultado = result.concat(\" \", SYMBOL);\r\n    let bnbButton = document.querySelector('#bnbs');\r\n    bnbButton.classList.remove('d-none');\r\n    bnbButton.innerHTML = resultado;\r\n    \r\n    const contract = new ethers.Contract(presaleaddress, Presale.abi, provider);\r\n    try {\r\n      const balancePandoras = await contract.getBalancePandoras({ from: cuentaUsuario });\r\n      let balance = ethers.utils.formatEther(balancePandoras).toString();\r\n      let pandoras = Number.parseFloat(balance).toFixed(0);\r\n      setUserBalancePandoras(pandoras);\r\n      document.querySelector('#pandoras').classList.remove('d-none');\r\n\r\n    } catch (err) {\r\n      console.log(\"Error: \", err)\r\n    }\r\n\r\n  }\r\n\r\n  async function isconnectedMetamask() {\r\n\r\n      const accounts = await window.ethereum.request({ method: 'eth_accounts' });\r\n      let cuentaUsuario = accounts[0];\r\n\r\n      if (cuentaUsuario) {\r\n        \r\n        let subini = cuentaUsuario.substr(0,4);\r\n        let subfinal = cuentaUsuario.substr(-4,4);\r\n        let cuentaRecortada = `${subini} ... ${subfinal}`;\r\n        setUserAccount(cuentaUsuario);\r\n\r\n        document.querySelector('#wallet').innerHTML = cuentaRecortada;\r\n\r\n        const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n        const contractUserBalance = await provider.getBalance(cuentaUsuario);\r\n        let amount = ethers.utils.formatEther(contractUserBalance).toString();\r\n        let result = Number.parseFloat(amount).toFixed(2);\r\n        let bnbButton = document.querySelector('#bnbs');\r\n        bnbButton.classList.remove('d-none');\r\n        bnbButton.innerHTML = `${result} BNB`;\r\n        setUserBalance(`${result} BNB`);\r\n\r\n        const network = await provider.getNetwork();\r\n        console.log('network', network.name);\r\n        setNetwork(network.name);\r\n\r\n        const contract = new ethers.Contract(presaleaddress, Presale.abi, provider);\r\n        try {\r\n          const balancePandoras = await contract.getBalancePandoras({ from: cuentaUsuario });\r\n          let amountPandoras = ethers.utils.formatEther(balancePandoras).toString();\r\n          let pandoras = Number.parseFloat(amountPandoras).toFixed(0);\r\n          setUserBalancePandoras(pandoras);\r\n          document.querySelector('#pandoras').classList.remove('d-none');\r\n        } catch (err) {\r\n          console.log(\"Error: \", err)\r\n        }\r\n      \r\n      }\r\n  }\r\n  \r\n  // funcion que detecta los cambios de cuenta\r\n  async function changeAccounts() {\r\n  \r\n    if (typeof window.ethereum !== 'undefined') {\r\n\r\n      window.ethereum.on(\"accountsChanged\", async function () {\r\n\r\n        await isconnectedMetamask();\r\n        \r\n      });\r\n\r\n    }\r\n  }\r\n\r\n   // funcion que detecta los cambios de red\r\n  async function changeNetwork() {\r\n  \r\n    if (typeof window.ethereum !== 'undefined') {\r\n    // detect Network account change\r\n    window.ethereum.on('networkChanged', async function(networkId) {\r\n      console.log('cambio de red efectuado..',networkId);\r\n      await isconnectedMetamask();\r\n    });\r\n\r\n    }\r\n  }\r\n\r\n\r\n  async function fetchrate() {\r\n\r\n    if (typeof window.ethereum !== 'undefined') {\r\n      const provider = new ethers.providers.Web3Provider(window.ethereum)\r\n      // console.log({ provider })\r\n      const contract = new ethers.Contract(presaleaddress, Presale.abi, provider)\r\n      try {\r\n        const data = await contract.rate();\r\n        console.log('Tokens por un BNB: ', data.toString());\r\n\r\n        setRate(data.toString());\r\n\r\n      } catch (err) {\r\n        console.log(\"Error: \", err)\r\n      }\r\n    }\r\n  }\r\n\r\n  useEffect(function () {\r\n    console.log('useffect de rate');\r\n    document.querySelector('#rate').innerHTML = rate;\r\n\r\n  },[rate]);\r\n\r\n  async function getBalance() {\r\n\r\n    if (typeof window.ethereum !== 'undefined') {\r\n      //  const [account] = await window.ethereum.request({ method: 'eth_requestAccounts' });\r\n      const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n      const contract = new ethers.Contract(presaleaddress, Presale.abi, provider);\r\n\r\n      try {\r\n        const balance = await contract.TokenBalance();\r\n        let tokens = ethers.utils.formatEther(balance).toString();\r\n        let pandoras = Number.parseFloat(tokens).toFixed(0);\r\n        setContractBalance(pandoras);\r\n\r\n      } catch (err) {\r\n        console.log(\"Error: \", err)\r\n      }\r\n    }\r\n  }\r\n\r\n  useEffect(function () {\r\n    console.log('useeffect de contracBalance');\r\n    document.querySelector('#balance').innerHTML = contractBalance;\r\n\r\n  },[contractBalance]);\r\n  \r\n\r\n  async function buytokens() {\r\n  \r\n    if (typeof window.ethereum !== 'undefined') {\r\n      if (amount > 0) {\r\n        const [account] = await window.ethereum.request({ method: 'eth_requestAccounts' });\r\n        console.log('cuenta conectada: ', account);\r\n        const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n        const signer = provider.getSigner();\r\n        const contract = new ethers.Contract(presaleaddress, Presale.abi, signer);\r\n        // console.log('amount', amount);\r\n        //console.log('signer', signer);\r\n        const bnbamount = ethers.utils.parseEther(amount);\r\n        \r\n        try {\r\n\r\n\r\n          const transaction = await contract.buyTokens(account, { value: bnbamount });\r\n          console.log(\"Esperando compraOk\");\r\n          Swal.fire({\r\n            title: 'El proceso de compra ha comenzado',\r\n            text: 'No actualice la página',\r\n            // icon: 'info',\r\n            showConfirmButton: false,\r\n            imageUrl: 'https://thumbs.gfycat.com/ConventionalOblongFairybluebird-size_restricted.gif',\r\n            imageWidth: 100,\r\n            imageHeight: 100,\r\n            imageAlt: 'proceso de compra',\r\n            \r\n\r\n          })\r\n          const compraOk = await transaction.wait();\r\n\r\n          if (compraOk) {\r\n            Swal.fire({\r\n              title:  `Se han envíado ${amountPandoras} Pandoras a la cuenta ${account}`,\r\n              html: `<a href=\"https://testnet.bscscan.com/tx/${transaction.hash}\" target=\"_blank\" rel=\"noreferrer\">Hash de la transacción</a>`,\r\n              icon: 'success',\r\n              confirmButtonText:  'Añadir Pandora a su Metamask',\r\n              confirmButtonClass: \"btn-success\",\r\n              buttonsStyling: false,\r\n              showCloseButton: true,\r\n              \r\n            }).then((result) => {\r\n              /* Read more about isConfirmed, isDenied below */\r\n              if (result.isConfirmed) {\r\n                //Sí queremos añadir el token a Metamask\r\n                addTokenToMetamask();\r\n                \r\n              } else if (result.isDenied) {\r\n                // window.location.href = `https://testnet.bscscan.com/tx/${transation.hash}`;\r\n              }\r\n            })\r\n\r\n            \r\n            //let link = \"<a href='https://testnet.bscscan.com/tx/\"+transation.hash+\"'>Ver en EtherScan</a>\";\r\n            \r\n            getBalance();\r\n            setAmount(0);\r\n            isconnectedMetamask();\r\n          }\r\n\r\n          console.log(`La cuenta ${account}, ha recibido los Pandoras correctamente.`);\r\n\r\n        } catch (err) {\r\n          let mensajeError = err.message;\r\n           \r\n          if (err.data) {\r\n\r\n            if (err.data.message === 'execution reverted: Excede compra de Pandoras permitida') {\r\n              mensajeError =  'Excede compra de Pandoras permitida';\r\n            } else {\r\n              mensajeError =  'La transacción ha sido rechazada';\r\n            }\r\n          }\r\n      \r\n          Swal.fire({\r\n            title: 'Ooops!',\r\n            text: `${mensajeError}`,\r\n            icon: 'error',\r\n            confirmButtonText: 'Cerrar'\r\n          })\r\n          console.log(\"Error: \", err)\r\n        }\r\n\r\n        \r\n\r\n      }\r\n    \r\n    }\r\n  }\r\n\r\n  const addTokenToMetamask = async () => {\r\n\r\n    if (typeof window.ethereum !== 'undefined') {\r\n\r\n      //PANDORA test Token\r\n      const tokenAddress = '0x952292556C09C074f135e7912c5801E04219d901';\r\n      const tokenSymbol = 'PANDORA';\r\n      const tokenDecimals = 18;\r\n      const tokenImage = 'https://ipfs.io/ipfs/QmSzTfCjfV7dMMMrbjCm1MEeLkgjJCVWfzzW8SU6RSCQpk'; // IPFS victory\r\n\r\n\r\n      \r\n        try {\r\n          // wasAdded is a boolean. Like any RPC method, an error may be thrown.\r\n          const wasAdded = await window.ethereum.request({\r\n            method: 'wallet_watchAsset',\r\n            params: {\r\n              type: 'ERC20', // Initially only supports ERC20, but eventually more!\r\n              options: {\r\n                address: tokenAddress, // The address that the token is at.\r\n                symbol: tokenSymbol, // A ticker symbol or shorthand, up to 5 chars.\r\n                decimals: tokenDecimals, // The number of decimals in the token\r\n                image: tokenImage, // A string url of the token logo\r\n              },\r\n            },\r\n          });\r\n\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n\r\n<div className=\"App\">\r\n        {/* <main className=\"d-lg-none mt-5\" style={{transform: `translateY(-${offSetY * 0.3}px)`}}>\r\n        <div className=\"my-5\">\r\n          <a className=\"navbar-brand\" href=\"\">\r\n            <img src=\"./logo192.png\" height=\"30\" alt=\"Logo de Pandora\" />\r\n          </a>\r\n        </div>\r\n        <div className=\"my-5\">\r\n          <h2 className=\"text-white my-5\">The sale is only enabled through a computer</h2>\r\n          <h2 className=\"my-5\">La venta solo es posible conectándose con un Ordenador</h2>\r\n        </div>\r\n      </main> */}\r\n      <main className=\"d-lg-block\" style={{transform: `translateY(-${offSetY * 0.3}px)`}}>\r\n        <header className=\"mb-5\">\r\n          <nav className=\"d-flex justify-content-between align-items-center mx-3 my-3\">\r\n            <div>\r\n              <a className=\"navbar-brand\" href=\"\">\r\n                <img src=\"./logo192.png\" className=\"logoBlanco\" alt=\"Logo de Pandora\" />\r\n              </a>\r\n         \r\n            </div> <div className='text-danger'>TOKEN EN TESTNET PARA FINES DIVULGATIVOS</div>     \r\n            <div>\r\n              <button id=\"wallet\" className=\"btn btn-primary btn-ghost btn-shine\" onClick={conectionMetamask}>Conectar Metamask</button>\r\n              <button  id=\"bnbs\" className=\"btn btn-primary btn-ghost btn-shine mx-2 d-none\">BNBs</button>\r\n              <button  id=\"pandoras\" className=\"btn btn-primary btn-ghost btn-shine d-none\"> {userBalancePandoras} Pandoras</button>\r\n              {/* {(i18n.language == \"en\") ? <a className=\"col-md-2\" onClick={() => i18n.changeLanguage('es')}><img src=\"./img/es.png\" alt=\"Español\" /></a> : <a className=\"col-md-2\" onClick={() => i18n.changeLanguage('en')}><img src=\"./img/en.png\" alt=\"English\" /></a>} */}\r\n            </div>\r\n          </nav>\r\n        </header>\r\n      \r\n        <div className=\"App-buttons my-3\">\r\n          <div className=\"row mt-3 mt-md-0 mb-3 mx-3 mx-md-0\">\r\n            <div className=\"card-deck\">\r\n              <div className=\"card pt-5 pb-3 btn btn-primary btn-ghost btn-shine no-pointer\" disabled>\r\n                <h2 ><b>Pandoras</b> por 1 BNB</h2>\r\n                <div className=\"card-body\">\r\n                  <h3 className=\"card-title numberSize\" id=\"rate\">...</h3>\r\n\r\n                </div>\r\n              </div>\r\n              <div className=\"card pt-5 pb-3 btn btn-primary btn-ghost btn-shine no-pointer\">\r\n                <h2> <b>Pandoras</b> disponibles</h2>\r\n                <div className=\"card-body\">\r\n                  <h3 className=\"card-title numberSize\" id=\"balance\">...</h3>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"row\">\r\n            <div className=\"row mb-3 d-flex justify-content-center\">\r\n              <div className=\"btn btn-ghost btn-shine col-7 my-3\">\r\n                  <label className=\"bnb-brand font-weight-bold mr-2\"><img className=\"mr-2 mb-2 logoBNB\" src=\"./img/logoBNB.png\" alt=\"Logo BNB\" />BNB </label>\r\n                  <input type=\"number\" step=\"0.01\" className=\"text-center btn btn-ghost btn-shine\" onChange={e => setAmount(e.target.value.replace(',', '.'))} id=\"amount-bnb\" placeholder='Introduzca cantidad' value={(amount === 0)? \"\" : amount} />\r\n              </div>\r\n              <div className=\"btn btn-ghost btn-shine col-7 my-3 no-pointer\" >\r\n                  <label className=\"font-weight-bold mr-2\"><img className=\"mr-2\" src=\"./img/logo-pandora.png\" alt=\"Logo Pandora\" /> PANDORA</label>\r\n                  <input className=\"text-center btn btn-ghost btn-shine no-pointer mr-4\" id=\"amount-pandoras\" value={amountPandoras}  />\r\n              </div>\r\n              <button className=\"col-7 my-3 btn btn-primary btn-ghost btn-shine font-weight-bold\" onClick={buytokens}>Comprar Pandoras</button>\r\n            </div>\r\n          </div>     \r\n        </div>\r\n          <div>\r\n          <a href=\"\">\r\n            <img className=\"logoBlanco\" src=\"./logo192.png\" alt=\"Logo Pandora\" />\r\n          </a>\r\n        </div>\r\n        <div id=\"infoBuyAllowed\" className=\"d-flex align-items-center justify-content-center my-3\">\r\n                <button onMouseEnter={() => setInfo(!info)} onMouseLeave={() => setInfo(!info)} id=\"btnInfo\" className=\"info mr-3\"><i className=\"fa fa-info\"></i></button>\r\n                <div id=\"buyForUser\" className=\"display-5 text-white\">{ info  ? 'Usted todavía puede comprar ' + (rate * 1 - userBalancePandoras) +  ' Pandoras' : \"Máxima compra permitida por usuario: 1 BNB\" }</div>\r\n        </div>\r\n        <div>\r\n          <a href=\"https://github.com/Cainuriel/ERC-Contracts/tree/main/crowdsale-BEP20\" target=\"_blank\">\r\n            <img className=\"logoBlanco\" src=\"./github.png\" alt=\"Logo github\" />\r\n          </a>\r\n        </div>\r\n        <div>\r\n          <a href=\"https://cainuriel.github.io/\" target=\"_blank\">\r\n            DISEÑO Y CREACIÓN: FERNANDO LÓPEZ\r\n          </a>\r\n        </div>\r\n      </main>\r\n     \r\n\r\n    <VideoPlayer style={{transform: `translateY(${offSetY * 1}px)`}}\r\n        className=\"Video\"\r\n        src={\r\n          \"https://ipfs.io/ipfs/QmbQCZtUMashWZKYkdSdexZto2VmNwNnr5ivqJJAAMZT6L\"\r\n        }\r\n        autoPlay={true}\r\n        muted={true}\r\n      />\r\n</div>\r\n\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}